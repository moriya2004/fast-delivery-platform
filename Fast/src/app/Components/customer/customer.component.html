<div class="divName"><i class="pi pi-pencil" (click)="changeName()" style="font-size: 1.5rem"></i>
    <span class="pName">{{this.name}}</span>

    <p-dialog header="Change your name" [(visible)]="visible" [breakpoints]="{ '960px': '75vw' }"
        [style]="{ width: '50vw' }" [draggable]="false" [resizable]="false">

        <div class="flex flex-column gap-2">
            <label for="username">Username</label>
            <input pInputText id="username" aria-describedby="username-help" [(ngModel)]="this.name" />
        </div>
        <ng-template pTemplate="footer">
            <p-button icon="pi pi-check" (click)="updateCustomer()" label="Ok" pAutoFocus [autofocus]="true"></p-button>
        </ng-template>
    </p-dialog>
</div>


<h1>My Orders</h1><br />
<div class="card">
    <p-table [value]="orders" [tableStyle]="{ 'min-width': '50rem' }">
        <ng-template pTemplate="header">
            <tr>
                <th>id</th>
                <th>Date</th>
                <th>to Address city</th>
                <th>status</th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-order>
            <tr>
                <td>{{ order.id }}</td>
                <td>{{ order.date }}</td>
                <td>{{ order.toAddress }}</td>
                <td>{{ order.status }}</td>
                <td><button (click)="changeOrder(order)">change order</button></td>
            </tr>
            
            <!--<button (click)="deleteOrder(o.Id)" *ngIf="o.Status==false" )>delete order</button> -->
        </ng-template>
    </p-table>
</div>

<p-dialog header="Change the destination address" [(visible)]="visibleChangeOrder" [breakpoints]="{ '960px': '75vw' }"
    [style]="{ width: '50vw' }" [draggable]="false" [resizable]="false">
    <div class="flex flex-column gap-2">
        <label for="toAddress">to Address</label>
        <input pInputText id="toAddress" aria-describedby="toAddress-help" [(ngModel)]="order.toAddress" />
    </div>
    <ng-template pTemplate="footer">
        <p-button icon="pi pi-check" (click)="updateOrder()" label="Ok" pAutoFocus [autofocus]="true"></p-button>
    </ng-template>
</p-dialog>



<button (click)="OpenNewOrder()">new order</button>
<p-dialog header="Change the destination address" [(visible)]="visibleNewOrder" [breakpoints]="{ '960px': '75vw' }"
    [style]="{ width: '50vw' }" [draggable]="false" [resizable]="false">
    <div class="flex flex-column gap-2">
        <label for="newOrder">new order</label>
        <input pInputText id="newOrder"  [(ngModel)]="newOrder.toAddress" />
    </div>
    <ng-template pTemplate="footer">
        <p-button icon="pi pi-check" (click)="addNewOrder(newOrder)" label="Ok" pAutoFocus [autofocus]="true"></p-button>
    </ng-template>
</p-dialog>